{% extends 'base.html' %}

{% block title %}
{{ tag.title }} - {{ block.super }}
{% endblock title %}

{% block content %}
    <h1 class="mb-5">Posts with "{{ tag.title }}" tag:</h1>
    {% for post in tag.posts.all %}
        <div class="card mb-5">
          <h5 class="card-header">{{post.date}}</h5>
          <div class="card-body">
            <h5 class="card-title">{{post.title}}</h5>
            <p class="card-text">{{post.body|truncatewords:15}}</p>
            <a href="{{ post.get_absolute_url }}" class="btn btn-primary">Read</a>
            
            <p class="mt-2" >Tags: {% for tag in post.tags.all %}
              <a href="{{ tag.get_absolute_url }}">{{tag.title}} </a>
              {% endfor %}</p>
          </div>
        </div>
        {% empty %}
        <p>No posts are related with this tag</p>
    {% endfor %}
{% endblock content %}